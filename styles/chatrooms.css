/* ============================================================
   PHASMOPHOBIA BROADS — CINEMATIC JOURNAL UI (FINAL BUILD)
   Dark Leather | Animated | Ghost FX | GitHub Safe
   ============================================================ */

/* ---------- ROOT COLORS & GLOWS ---------- */
:root {
  --dark-1: #000;
  --dark-2: #0a0a0a;
  --dark-3: #111;
  --dark-4: #1a1a1a;

  --red1: #ff2222;
  --red2: #aa2222;
  --highlight: #c33;

  --glow-red: 0 0 10px #900, 0 0 16px #f00;
}

/* ---------- GLOBAL ---------- */
body {
  margin: 0;
  background: #000;
  font-family: 'Courier Prime', monospace;
  color: #eee;
  overflow: hidden;
}

.hidden { display: none !important; }

/* Scrollbars */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #111; }
::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #666; }

/* ============================================================
   LOADING SCREEN
   ============================================================ */

.loading-screen {
  position: fixed;
  inset: 0;
  background: #000;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  animation: fadeOutLoading 0.6s ease-out forwards;
  animation-delay: 1.8s;
}

@keyframes fadeOutLoading {
  to { opacity: 0; visibility: hidden; }
}

.loading-inner {
  text-align: center;
  color: #fff;
}

.loader-circle {
  width: 90px;
  height: 90px;
  border: 6px solid #222;
  border-top: 6px solid #ff3333;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.loading-text {
  font-size: 1.3rem;
  color: #bbb;
  text-shadow: 0 0 10px #a00;
}

/* ============================================================
   JOURNAL WRAPPER
   ============================================================ */

.journal-wrapper {
  display: flex;
  height: 100vh;
  background: url('assets/images/dark_leather.jpg') center/cover no-repeat;
  box-shadow: inset 0 0 80px #000;
  animation: journalFade 0.7s ease-out;
}

@keyframes journalFade {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ---------- Ambient vignette ---------- */
.journal-wrapper::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at center, transparent 40%, rgba(0,0,0,0.55) 100%);
}

/* ============================================================
   TABS (LEFT SIDE)
   ============================================================ */

.tabs {
  display: flex;
  flex-direction: column;
  width: 180px;
  background: rgba(0,0,0,0.65);
  border-right: 2px solid #222;
  padding-top: 1rem;
  box-shadow: inset 0 0 20px #000;
  z-index: 5;
}

.tabs button {
  background: none;
  border: none;
  color: #bbb;
  padding: 1rem;
  font-size: 1rem;
  width: 100%;
  text-align: left;
  cursor: pointer;
  transition: 0.3s;
  border-left: 3px solid transparent;
}

.tabs button:hover {
  background: rgba(255,255,255,0.05);
  color: #fff;
  border-left: 3px solid var(--highlight);
  text-shadow: var(--glow-red);
  transform: translateX(4px);
}

/* ============================================================
   PAGE CONTENT
   ============================================================ */

.journal-page {
  flex: 1;
  padding: 2rem;
  overflow-y: auto;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(4px);
  box-shadow: inset 0 0 40px #000;
}

.page-section { display: none; }
.page-section.active { display: block; }

/* ============================================================
   CHAT
   ============================================================ */

.messages {
  height: calc(100vh - 200px);
  overflow-y: auto;
  padding-right: 1rem;
}

.message-entry {
  background: rgba(0,0,0,0.45);
  padding: 0.8rem;
  margin-bottom: 1rem;
  border-left: 4px solid #333;
  color: #ddd;
  box-shadow: inset 0 0 10px #000;
  white-space: pre-wrap;
  animation: msgIn 0.4s ease-out;
}

@keyframes msgIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

.ghost-text {
  color: #ff2222;
  font-family: 'Creepster', cursive;
  text-shadow: 0 0 12px #900;
}

.input-row {
  display: flex;
  margin-top: 1rem;
}

#chatInput {
  flex: 1;
  background: #111;
  color: #eee;
  border: none;
  border-bottom: 2px solid #333;
  padding: 0.8rem;
}

#sendBtn {
  background: #222;
  color: #eee;
  border: none;
  padding: 0.8rem 1.2rem;
  cursor: pointer;
  border-left: 2px solid #444;
  transition: 0.3s;
}

#sendBtn:hover { background: #333; }

/* ============================================================
   CASE FILES OVERLAY
   ============================================================ */

.casefiles {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.92);
  backdrop-filter: blur(4px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.casefiles.hidden { display: none; }

.close-casefiles {
  position: absolute;
  top: 20px;
  right: 20px;
  background: none;
  border: none;
  font-size: 2rem;
  color: #fff;
  cursor: pointer;
  text-shadow: 0 0 10px #f00;
}

.casefiles-inner {
  width: 80%;
  max-width: 1000px;
  background: rgba(0,0,0,0.55);
  padding: 25px;
  border: 2px solid #333;
  box-shadow: 0 0 20px #000;
}

.cf-title {
  font-family: 'Creepster';
  text-align: center;
  font-size: 3rem;
  color: #ff4444;
  text-shadow: 0 0 10px #900;
}

.cf-grid {
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

.cf-card {
  background: #111;
  padding: 10px;
  border: 3px solid #222;
  box-shadow: 0 0 10px #000;
  animation: dropIn 0.4s ease-out;
}

@keyframes dropIn {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}

.cf-card img {
  width: 100%;
  display: block;
}

/* ============================================================
   LOBBY
   ============================================================ */

.lobby {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9998;
}

.lobby.hidden { display: none; }

.lobby-inner {
  width: 420px;
  padding: 25px;
  background: rgba(0,0,0,0.55);
  border: 2px solid #222;
  box-shadow: 0 0 15px #000;
  text-align: center;
}

.lobby-inner h2 {
  font-family: 'Creepster';
  color: #ff3333;
  font-size: 2.4rem;
  text-shadow: 0 0 10px #800;
}

#roomList li {
  padding: 10px;
  background: #111;
  margin: 8px 0;
  color: #ccc;
  border-left: 3px solid #555;
  cursor: pointer;
}

#roomList li:hover { background: #222; }

/* ============================================================
   VOICE BUTTON
   ============================================================ */

.voice-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #222;
  color: #fff;
  padding: 12px 18px;
  border: none;
  cursor: pointer;
  border-left: 3px solid #a44;
  box-shadow: 0 0 12px #000;
  transition: 0.3s;
}

.voice-btn:hover {
  background: #333;
  transform: translateY(-2px);
}

/* ============================================================
   AMBIENT FX — DUST, SHADOWS, FLICKER, SHAKE, FROST, BREATH
   ============================================================ */

.dust-particle {
  position: fixed;
  width: 6px;
  height: 6px;
  background: #ffffff11;
  border-radius: 50%;
  pointer-events: none;
  animation: dustFloat 6s infinite ease-in-out;
}

@keyframes dustFloat {
  0% { opacity: 0.05; transform: translate(0,0); }
  50% { opacity: 0.12; transform: translate(12px,-20px); }
  100% { opacity: 0.05; transform: translate(0,0); }
}

.shadow-sweep {
  position: fixed;
  inset: 0;
  background: url('assets/images/shadow.png') center/contain no-repeat;
  opacity: 0;
  pointer-events: none;
  animation: none;
}

.fx-flicker { animation: flickerFX 0.1s alternate 6; }
@keyframes flickerFX {
  from { opacity: 0.6; }
  to { opacity: 1; }
}

.fx-shake { animation: shakeFX 0.35s linear 3; }
@keyframes shakeFX {
  0% { transform: translate(0,0); }
  20% { transform: translate(4px,-3px); }
  40% { transform: translate(-4px,3px); }
  60% { transform: translate(3px,-2px); }
  80% { transform: translate(-3px,3px); }
  100% { transform: translate(0,0); }
}

.fx-frost {
  position: fixed;
  inset: 0;
  background: url('assets/images/frost.png') center/cover no-repeat;
  opacity: 0.8;
  animation: frostFade 1.6s forwards;
  pointer-events: none;
}

@keyframes frostFade {
  to { opacity: 0; }
}

.fx-breath {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  width: 200px;
  height: 120px;
  background: url('assets/images/breath.png') center/contain no-repeat;
  filter: blur(1px) brightness(1.3);
  animation: breathFX 2.4s ease-out forwards;
}

@keyframes breathFX {
  0% { opacity: 0; }
  20% { opacity: 1; }
  100% { opacity: 0; }
}
